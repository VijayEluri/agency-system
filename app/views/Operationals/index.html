#{extends 'layout.html' /}

<div id="crudList">
	
	<p id="crudListAdd">
		<a href="@{Bookings.form()}">Add Booking</a>
	</p>
	
	<h1>Booking Vessel</h1>
	<table id="crudList">
		<thead>
			<th>Booking Number</th>
			<th>Vessel</th>
			<th>Voyage</th>
			<th>Customer</th>
			<th>ETA</th>
			<th>ETD</th>
		</thead>
		#{list items:bookings, as:'booking'}
		    <tr>
		        <td><a href="@{Bookings.form(booking.id)}">${booking.id}</a></td>
		        <td><a href="@{Bookings.form(booking.id)}">${booking.vessel.name}</a></td>
		        <td><a href="@{Bookings.form(booking.id)}">${booking.voyage}</a></td>
		        <td><a href="@{Bookings.form(booking.id)}">${booking.customer.name}</a></td>
		        <td>${booking.booking.eta.format('yyyy-MM-dd')}</td>
		        <td>${booking.booking.etd.format('yyyy-MM-dd')}</td>
		    </tr>
		#{/list}
	</table>
	
	<h1>Upcoming Vessel</h1>
	<table id="crudList">
		<thead>
			<th>Booking Number</th>
			<th>Vessel</th>
			<th>Voyage</th>
			<th>Customer</th>
			<th>ETA</th>
			<th>ETD</th>
		</thead>
		#{list items:berthings, as:'berthing'}
		    <tr>
		        <td><a href="@{Berthings.form(berthing.id)}">${berthing.id}</a></td>
		        <td><a href="@{Berthings.form(berthing.id)}">${berthing.vessel.name}</a></td>
		        <td><a href="@{Berthings.form(berthing.id)}">${berthing.voyage}</a></td>
		        <td><a href="@{Berthings.form(berthing.id)}">${berthing.customer.name}</a></td>
		        <td>${berthing.booking.eta.format('yyyy-MM-dd')}</td>
		        <td>${berthing.booking.etd.format('yyyy-MM-dd')}</td>
		    </tr>
		#{/list}
	</table>
	
	<h1>Berthing Vessel</h1>
	<table id="crudList">
		<thead>
			<th>Booking Number</th>
			<th>Vessel</th>
			<th>Voyage</th>
			<th>Customer</th>
			<th>ATA</th>
			<th>ETD</th>
		</thead>
		#{list items:departures, as:'departure'}
		    <tr>
		        <td><a href="@{Departures.form(departure.id)}">${departure.id}</a></td>
		        <td><a href="@{Departures.form(departure.id)}">${departure.vessel.name}</a></td>
		        <td><a href="@{Departures.form(departure.id)}">${departure.voyage}</a></td>
		        <td><a href="@{Departures.form(departure.id)}">${departure.customer.name}</a></td>
		        <td></td>
		        <td>${departure.booking.etd.format('yyyy-MM-dd')}</td>
		    </tr>
		#{/list}
	</table>
	
	<h1>Departured Vessel</h1>
	<table id="crudList">
		<thead>
			<th>Booking Number</th>
			<th>Vessel</th>
			<th>Voyage</th>
			<th>Customer</th>
			<th>ATA</th>
			<th>ATD</th>
		</thead>
		#{list items:finals, as:'finalcharge'}
		    <tr>
		        <td><a href="@{FinalCharges.form(finalcharge.id)}">${finalcharge.id}</a></td>
		        <td><a href="@{FinalCharges.form(finalcharge.id)}">${finalcharge.vessel.name}</a></td>
		        <td><a href="@{FinalCharges.form(finalcharge.id)}">${finalcharge.voyage}</a></td>
		        <td><a href="@{FinalCharges.form(finalcharge.id)}">${finalcharge.customer.name}</a></td>
		        <td>${finalcharge.berthing.ata.format('yyyy-MM-dd')}</td>
		        <td>${finalcharge.departure.atd.format('yyyy-MM-dd')}</td>
		    </tr>
		#{/list}
	</table>

</div>